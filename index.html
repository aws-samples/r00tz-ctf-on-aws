


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="This workshop is for kids ages 8 - 18 to become more familiar with cloud security concepts.">
      
      
        <link rel="canonical" href="https://r00tz-ctf.awssecworkshops.com/">
      
      
        <meta name="author" content="aws-security-workshops@amazon.com">
      
      <link rel="shortcut icon" href="assets/images/aws-favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.6">
    
    
      
        <title>r00tz CTF on AWS</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.63b94e9e.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="stylesheets/custom.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#security-capture-the-flag-ctf-101" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://r00tz-ctf.awssecworkshops.com/" title="r00tz CTF on AWS" class="md-header-nav__button md-logo" aria-label="r00tz CTF on AWS">
      
  <img src="assets/images/aws_smile_logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            r00tz CTF on AWS
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Security Capture the Flag (CTF)
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/aws-samples/r00tz-ctf-on-aws/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/r00tz-ctf-on-aws
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://r00tz-ctf.awssecworkshops.com/" title="r00tz CTF on AWS" class="md-nav__button md-logo" aria-label="r00tz CTF on AWS">
      
  <img src="assets/images/aws_smile_logo.png" alt="logo">

    </a>
    r00tz CTF on AWS
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/aws-samples/r00tz-ctf-on-aws/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/r00tz-ctf-on-aws
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Security Capture the Flag (CTF)
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="." title="Security Capture the Flag (CTF)" class="md-nav__link md-nav__link--active">
      Security Capture the Flag (CTF)
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approach-1-password-guessing" class="md-nav__link">
    Approach 1: Password Guessing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approach-2-scanning" class="md-nav__link">
    Approach 2: Scanning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-the-first-key" class="md-nav__link">
    Finding the first key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-the-second-key" class="md-nav__link">
    Finding the second key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-the-third-key" class="md-nav__link">
    Finding the third key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix" class="md-nav__link">
    Appendix
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="environment-setup/" title="Environment Setup" class="md-nav__link">
      Environment Setup
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="walkthrough/" title="Instructor Walkthrough" class="md-nav__link">
      Instructor Walkthrough
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="contribute/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approach-1-password-guessing" class="md-nav__link">
    Approach 1: Password Guessing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approach-2-scanning" class="md-nav__link">
    Approach 2: Scanning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-the-first-key" class="md-nav__link">
    Finding the first key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-the-second-key" class="md-nav__link">
    Finding the second key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-the-third-key" class="md-nav__link">
    Finding the third key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix" class="md-nav__link">
    Appendix
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/aws-samples/r00tz-ctf-on-aws/edit/master/docs/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="security-capture-the-flag-ctf-101">Security Capture The Flag <small>CTF 101</small></h1>
<p>Welcome to the Security CTF 101 worklab, sponsored by Amazon Web Services Security.  In this worklab, you will work through a CTF challenge.  This worklab is built on the Mr. Robot CTF/Alternative Reality Game hosted at vulnhub.  Mr. Robot is a television show about a hacker- and the CTF is themed based on exploits the hacker ran in the Television program.  This CTF was created by Leon Johnson.  You can download the VM associated with this CTF <a href="https://www.vulnhub.com/author/leon-johnson,292/" target="_blank">here</a>.</p>
<ul>
<li><strong>Level</strong>: Beginner</li>
<li><strong>Duration</strong>: 2 hours</li>
<li><strong>Prerequisites</strong>: <a href="environment-setup/">Environment Setup</a></li>
</ul>
<p>The challenge has 3 keys that we want to obtain.  The keys are strings of text in files you have to discover.  If you have questions, ask a mentor and we’ll gladly help.  If you have questions about what a CTF is, see the Appendix.</p>
<div class="admonition tip">
<p class="admonition-title">Can I use what I learn here on other systems?</p>
<p>This CTF includes real-world hacking techniques.  <strong>DO NOT USE THESE TECHNIQUES ON SYSTEMS THAT YOU DO NOT CONTROL</strong>.  You have permission to do this in our environment. If you used any of these techniques at your school or against other systems on the internet, against friends/family/acquaintances, you could get into serious trouble.  When in doubt, only work on building your skills against a computer you own &amp; control.</p>
</div>
<h2 id="getting-started">Getting Started</h2>
<p>This lab consists of two Virtual Machines (VMs).  Virtual machines are instances of an operating system that can be ran within a host operating system.  You can think of them as “virtual computers.”  One of the virtual machines is the target of our Capture The Flag 101 session.  It is called “MrRobot”, and it appears to be running some version of Linux, which is an open source operating system.  </p>
<div class="admonition question">
<p class="admonition-title">What is an operating system?</p>
<p>An operating system controls the basic functions of a computer.  It is the underlying environment that launches applications, controls hardware input/output operations and performs process scheduling.  There are multiple Operating Systems you probably have heard of, including:</p>
<p>Windows</p>
<p>OSx (MacOS)</p>
<p>iOS (for iphones)</p>
<p>Android (for android devices)</p>
<p>Linux</p>
<p>and more!</p>
</div>
<p>The second VM is our reconnaissance system.  We will spend virtually all of our time in this system during the CTF.  It is running an operating system based on Linux called “Kali.”  Kali is loaded with penetration testing tools that we can use to quickly assess if a system has security vulnerabilities.  </p>
<p>First, open up the MrRobot virtual machine.  You’ll see some ascii art that says Mr Robot and a login prompt labeled “Linux Login:”</p>
<p><img alt="Image" src="images/ctf-1.png" title="Image" /></p>
<p>We have no other background on this system.  If we want to get our first key, we need to find it on this system.  Our immediate goal is to figure out how to get on the system in order to start finding keys.  It would be great if we could identify the username and password for logging into the system.  </p>
<p>Take a moment to think about how you might do this.  It’s ok if you have no idea- but still think about different approaches for finding the username &amp; password for the system.</p>
<p>There are two primary approaches to identifying the username &amp; password for the system:</p>
<ul>
<li>Guess the Username &amp; Password</li>
<li>Scan the system for services that give us clues on how to gain access to the username &amp; password.</li>
</ul>
<h2 id="approach-1-password-guessing">Approach 1: Password Guessing</h2>
<p>Do you know any linux user account names?  You could try guessing a password for a known login.  It is surprising how often this approach will work.   If you’d like, you can try guessing a password- but <strong>if you want to save time, skip to the section called “Approach 2: Scanning”</strong>.  Password guessing is unlikely to work for this lab. </p>
<p>If you do want to try guessing- you could try common login/password combinations.  There is an account on every linux system called “<strong>root</strong>” that is the most powerful user on the system.  Do you know any others?</p>
<p>Splash data (<a href="https://www.splashdata.com/" target="_blank">https://www.splashdata.com/</a>) publishes an annual report of the 100 worst passwords.  This list is built from lists of commonly reused passwords that have been published on the Internet.  You could try the loginname <strong>root</strong> with any of the following from the top 10 list to see if the password is guessable</p>
<ul>
<li>iloveyou</li>
<li>qwerty</li>
<li>sunshine</li>
<li>1234567</li>
<li>111111</li>
<li>12345</li>
<li>12345678</li>
<li>123456789</li>
<li>password</li>
<li>123456</li>
</ul>
<p>If you didn’t guess the correct password, then we need to try a different approach.  It would be helpful if we had more context about the system.  What if there are security tools that we can use to identify the system’s IP address?  Maybe it has network services running that would expose other clues!</p>
<h2 id="approach-2-scanning">Approach 2: Scanning</h2>
<p>All computers on networks have IP addresses.  You use the IP address to specify where you want a network connection to attach to.  </p>
<div class="admonition question">
<p class="admonition-title">What’s an IP address?</p>
<p>IP stands for “Internet Protocol.”  All computers connected to the Internet have an IP address.  IPv4 addresses look like a “dotted quad”:  <code>10.13.13.102</code>  .  They have sections with numbers between 0 and 255, separated by a period.  </p>
<p>An IP address is like your house’s street address-  if you want to send mail to a house, you need to put the source address of the sender in the top left corner of the envelope, &amp; the destination address in the middle of the front of your envelope.  The mail carrier uses this information to route your packages to the destinations you intend.  IP addresses &amp; the Domain Name System are used to ensure that your reuqests to a page like <a href="http://amazon.com/">amazon.com</a> are correctly routed, along with the responses from the server.  You can learn more about IP addresses, DNS &amp; the internet here: https://www.youtube.com/watch?v=5o8CwafCxnU</p>
</div>
<p><strong>Identify the IP Range</strong></p>
<p>Let’s switch over to our Kali VM.  (You may need to hit the right-ctrl key to leave the Mr. Robot VM).  The Kali VM looks like the following:</p>
<p><img alt="Image" src="images/ctf-2.png" title="Image" /></p>
<p>Login under the root.  The password is toor.</p>
<p>Open a terminal window.</p>
<p><img alt="Image" src="images/ctf-3.png" title="Image" /></p>
<p>Type in the command:</p>
<p><code>ip addr show eth0</code></p>
<p><img alt="Image" src="images/ctf-4.png" title="Image" /></p>
<p>Note that the inet address.  It should look like 10.13.13.101/24 (Your IP might be slightly different- it could end with the number 102 or 103.  That’s ok).  </p>
<p>The first part (10.13.13.101) is your kali linux system’s IP address.  The second part (/24) tells you the subnet range.  This means that the subnet is 10.13.13, and the host address is .101.  We want to find the ip address of the MrRobot server- so we’re going to scan the 10.13.13.0/24 subnet range to get a list of all hosts that are listening.</p>
<div class="admonition question">
<p class="admonition-title">Can I scan systems on the internet?</p>
<p><strong>You should never scan any systems on the internet without permission</strong>. Additionally, you need to make sure that the person who gives you permission is authorized to give you permission.  Do not scan computers at school, do not scan your friend’s home networks.  It can be perceived as a hacking attempt and could get you into trouble.  Only scan systems that you are in control of and responsible for.  In this lab- we’re giving you permission to scan these systems.</p>
</div>
<div class="codehilite"><pre><span></span><code><span class="err">nmap -n 10.13.13.0/24</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-5.png" title="Image" /></p>
<p>At the end of the scan, we see that 3 hosts are up.  If you look in the report for the line “nmap scan report”, you’ll see that there are 3 IP addresses that were identified:</p>
<p>10.13.13.100
10.13.13.101
10.13.13.102</p>
<p>We found our Kali system’s ip at 10.13.13.101- but we also found two additional servers in our scan one at 100 and one at 102.<strong> (Your scan may have different IP addresses- you need to pay close attention to the results.  <em>You will need to write down the exact IP address found in your scan, and use it through the rest of this tutorial</em>.  When other commands specify an IP address, you’ll need to use the one you wrote down for the commands in the rest of this workbook.)</strong>  The 102. address has 3 services running, so we’ll focus there because it seems like it has the most opportunity for inspection.   </p>
<div class="admonition question">
<p class="admonition-title">What’s a service?</p>
<p>Servers are a computers that provide a network facing service that other computers can interact with.  Services are computer programs that listen for and process network connections from other computers.  Every time you visit a web page, your phone or computer are connecting to a type of service called a “web server”, which makes a decision on whether or not to accept your request &amp; then deliver the correct content back to your client.  There are other types of services as well- sshd allows people to remotely log into the system over an encrypted connection.  SMTP servers are used for storing, sending &amp; receiving email.  Your computer can run services that other people can connect to (e.g. if you host a minecraft game on your local network, you are temporarily running a server.  If you use a minecraft realm, instead of running the server locally- you’re running the server on a system somewhere out on the internet.  Services are interesting for hackers- they present a possible entry point, if someone made mistakes configuring the server, or if the server has exploitable mistakes in it’s code. </p>
</div>
<h2 id="finding-the-first-key">Finding the first key</h2>
<p><img alt="Image" src="images/ctf-6.png" title="Image" /></p>
<p>One is an ssh service on port 22, one is an http service on port 80 and one is an https service on port 443.  Let’s try viewing the web page in a browser.</p>
<p>Remember the IP address.  Enter in the address of the server that had the listening services in a web browser.  You can open a web browser by clicking here:</p>
<p><img alt="Image" src="images/ctf-7.png" title="Image" /></p>
<p>You’ll see a page that looks like a text terminal with a mr. robot login and a chat that says “Hello friend...”  There are several commands you can enter.  The page looks a lot like it’s “Mr Robot” related!  We must have found the right ip address for the Mr Robot server.  (<strong>Note: Many of the web page commands won’t work- we disabled some of the content for this challenge</strong>).</p>
<p>Now we need to start thinking about how to solve this challenge.  Remember our goal- we’re trying to find some clues that would help us identify a way to log into the system.  Somewhere on this web page are clues that will help us figure out the next step.  Play with the page and see if you can solve it.  If you are stuck, move to the next section for a spoiler:</p>
<p><strong>Spoiler:</strong>
While the page is interesting, it’s mostly fun looking marketing material for the tv show Mr. Robot.  Viewing the page source won’t yield much in terms of clues.  But hidden in the pages is some material that will help you solve the challenge.  Close the browser and go back to the linux terminal.  </p>
<p>Our nmap output told us there is a web server running on port 80 and port 443.  Let’s use an nmap NSE script to further spider the web site for more information:</p>
<div class="codehilite"><pre><span></span><code><span class="err">nmap -n -p 80 --script http-enum 10.13.13.102</span>
</code></pre></div>


<p><strong>(note that 10.13.13.102 may not be the right ip address for your target!  use the ip you noted earlier!</strong>  Also- make sure that you’re not entering this command in the browser- if you see a command not found message, you probably are in the browser.  Close the browser for now! :) ) </p>
<p>This command will walk through the web app and try to report back any interesting files it finds.  It takes about two minutes to complete.  </p>
<p><img alt="Image" src="images/ctf-8.png" title="Image" /></p>
<p>You should check out the files it offers you in a web browser, by adding the content to the existing ip address.  E.g.:</p>
<p><code>http://10.13.13.102/readme.html</code></p>
<p><strong>(note that 10.13.13.102 may not be the right ip address for your target!  use the ip you noted earlier!)</strong></p>
<p><img alt="Image" src="images/ctf-9.png" title="Image" /></p>
<p><strong>Spoiler</strong>
One of the files the http-enum script highlights is the robots.txt file.</p>
<p>Most web pages on the Internet have a file called “robots.txt.”  If you want to keep a page from being spidered by a search engine, you can use this file to tell web crawlers to ignore your page’s content.  This “Mr Robot” page seems to be something that someone would likely want to keep off the search engine.  It’s also interesting that there’s a collision between the show’s name &amp; this file- so let’s take a look at it.  In the browser’s address field, let’s look at the following url:</p>
<p>10.13.13.102/robots.txt
<strong>(note that 10.13.13.102 may not be the right ip address for your target!  use the ip you noted earlier!)</strong></p>
<p><img alt="Image" src="images/ctf-10.png" title="Image" /></p>
<div class="admonition question">
<p class="admonition-title">What’s robots.txt??</p>
<p>robots.txt files are used to tell web search engines and web spiders some rules for crawling &amp; indexing a page.  They are an important component that contributes to the ranking of a page for a particular piece of content in a search engine like google.  They can also be used to tell the search engine to please ignore content on the server- if for example, you wanted to keep your web page from showing up in google. </p>
</div>
<p>In the robots.txt file, we see 3 lines:</p>
<ul>
<li>user-agent: *</li>
<li>fsocity.dic</li>
<li>key-1-of-3.txt</li>
</ul>
<p>A “user-agent” is software that acts on behalf of a user- such as a web browser.  We see the *, which is a wildcard operator.  It means that this file is intended for all software connecting to the page.</p>
<p>The next two lines are completely non-standard for a robots.txt file.  It appears to be telling you about additional files on the web server.  Something called fsocity.dic and key-1-of-3.txt.</p>
<p>If we add key-1-of-3.txt to the url after the ip address (replace robots.txt)- we end up with the following page:</p>
<p><img alt="Image" src="images/ctf-11.png" title="Image" /></p>
<p><strong>You found the first CTF key!</strong></p>
<p>Congratulations!  CTFs will often have obvious indicators like this to tell you you have solved the clue.  This is a major achievement!  This would be a good stopping point if you need to take a break.  But if you’d like to continue to working on the second key, continue reading!</p>
<h2 id="finding-the-second-key">Finding the second key</h2>
<p>If we were running a jeopardy style ctf board, you’d upload the key you just found to the server.  But this is just a tutorial- so we’ll just focus on finding and reading the remaining keys.  You still have a problem: how do we log into a shell on the mr. robot system and find the remaining keys?  </p>
<p><strong>Inspecting the robots.txt entries</strong></p>
<p>Maybe the fsocity.dic entry in the robots.txt file is related.  What should we do?</p>
<p>Maybe this fsocity.dic is another file on the web server  Let’s browse to it and see if we find anything:</p>
<p><img alt="Image" src="images/ctf-12.png" title="Image" /></p>
<p>We found a file!  Let’s open it:</p>
<p><img alt="Image" src="images/ctf-13.png" title="Image" /></p>
<p>The file seems to be a word list.  It’s pretty hard to parse.  But there’s a clue in the extension name:  “.dic” seems like shorthand for dictionary.  There are username &amp; password dictionaries that hackers can use to compromise a system.  Our original goal was to find a username &amp; password combination we could use to login to the Mr.Robot shell- maybe we can use this file to perform a dictionary attack?</p>
<p>Reload this file in the browser.  Instead of opening it, click on save and accept the default location by clicking "ok".  (this location will be /tmp/mozilla_root0).  We’ll need that file later.</p>
<p>This won’t work well- if you use the wordcount command on the file, you’ll find that it has over 858 thousand lines in it.  We’re probably not ready to use this file yet.</p>
<p>Let’s try to get some more information about our target system.  Let’s find out more about the web server by trying to trigger an error page and look at it’s output.  There probably is not a file on the webserver named asdf.txt- so let’s browse to it and see what the error page says: </p>
<p><strong>Exploring the web server for useful information</strong></p>
<p>Enter 10.13.13.102/asdf.txt in the address field.<br />
(<strong>note that 10.13.13.102 may not be the right ip address for your target!  use the ip you noted earlier!)</strong></p>
<p>notice this error page:</p>
<p><img alt="Image" src="images/ctf-14.png" title="Image" /></p>
<p>At the bottom, the page says “Proudly hosted by Wordpress.”  Wordpress is a popular blogging platform that has a long history of vulnerabilities.  Maybe we can find some wordpress specific vulnerabilities to exploit?  Let’s take a note of that fact and move on.</p>
<p>Another possibility is to try clicking on the “log in” link (under “META”) and trying some accounts.</p>
<p><strong>Exploring login errors for useful information</strong></p>
<p>Lets’ try a username of asdf and a password of asdf and see what the error says:</p>
<p><img alt="Image" src="images/ctf-15.png" title="Image" /></p>
<p>The error is instructive!  it says “Error: Invalid username”. Obviously, asdf is not a valid user.  But what if we guessed a username that is likely to be on the system?  Maybe we’ll get a better answer.  </p>
<p>The Mr. Robot tv show has a main character named elliot.  Maybe that is a valid account on the system?  Let’s try username “elliot” and password “asdf“
This time, the error is different:</p>
<p><img alt="Image" src="images/ctf-40.png" title="Image" /></p>
<p>When we put asdf in the username field- we were told that the username was invalid.  When we put in elliot, we’re told we have the wrong password.  There must be a valid user named elliot!    Now we just need to guess elliot’s password.</p>
<p><strong>De-duping the password dictionary file</strong></p>
<p>That .dic file is obviously left there for us to use.  Let’s leverage the .dic file for passwords.  Since it’s so large- and many of the entries are duplicates- let’s try de-duplicating the file:</p>
<p>Open a new terminal, and type:</p>
<div class="codehilite"><pre><span></span><code><span class="err">cd /tmp/mozilla_root0</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="err">sort /tmp/mozilla_root0/fsocity.dic | uniq -u &gt;&gt; fsocity_deduped.dic</span>
</code></pre></div>


<p>if we use wc -l against the deduped file, we see it’s only 10 unique lines!  A much smaller set to work with:</p>
<p><img alt="Image" src="images/ctf-16.png" title="Image" /></p>
<p>Now we’re ready to use an automated tool to brute-force elliot’s password.  We’re going to hope that the dictionary file includes an appropriate password.  We’ll use a tool called “hydra” to brute force the password.  </p>
<p>You can watch the tool attempt to work with the ngrep command in a second terminal window:</p>
<div class="codehilite"><pre><span></span><code><span class="err">ngrep -W byline “POST” port 80</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-17.png" title="Image" /></p>
<p>Open a new terminal, and type:</p>
<div class="codehilite"><pre><span></span><code><span class="err">cd /tmp/mozilla_root0</span>
</code></pre></div>


<p><strong>Brute forcing the password of the user “Elliot”</strong></p>
<p>Now- we’re going to use a tool called “Hydra” with the dictionary file we downloaded earlier.  Hydra will use every line in the dictionary file as a password for the user account elliot.  This saves us from manually trying every single line of our dictionary file.  Type the following command (<strong>note that 10.13.13.102 may not be the right ip address for your target!  use the ip you noted earlier!)</strong></p>
<div class="codehilite"><pre><span></span><code><span class="err">hydra -l “elliot” -P fsocity_deduped.dic 10.13.13.102 http-post-form “/wp-login.php:log=^USER^&amp;pwd=^PASS^&amp;wp-submit=Log+In:F=is incorrect”</span>
</code></pre></div>


<p>(If you see an error saying File for passwords not found, make sure to run the <strong>sort</strong> command from the previous page.  If the command completes and it indicates that all logins worked, it suggests you had a typo on the http-post-form target value.  Please review it for typos.) </p>
<p>In the ngrep output of the other terminal, you can see the log &amp; pwd lines that were included above.  Note that for every request, the log value is the same (elliot) but the password changes- it’s one of the 10 entries in the dictionary file.</p>
<p><img alt="Image" src="images/ctf-18.png" title="Image" /></p>
<p>After a few moments, hydra will finish running.  If everything worked correctly, you should have the credential:</p>
<p><img alt="Image" src="images/ctf-19.png" title="Image" /></p>
<p>So now, if we go back into the wp login and submit the username of <code>elliot</code> &amp; password of <code>ER28-0652</code>, we should be able to login: </p>
<p><img alt="Image" src="images/ctf-20.png" title="Image" /></p>
<p>Success!  Although it’s pretty boring at this point.  There’s not much in the wp-admin page that’s of use.  We still need to get extensive access to the system.  Fortunately- we’ve gotten far enough along that we should be able to succeed. </p>
<p>Remember before when we mentioned that wordpress has a long history of vulnerabilities?  We’re going to use our knowledge of elliot’s wordpress username &amp; password to gain access to the system and find the next key.</p>
<p><strong>Using Wordpress Credentials to get a shell on a vulnerable wordpress instance</strong></p>
<p>There is an exploitation framework called metasploit which includes large numbers of methods for compromising systems.  Open up a terminal and type msfconsole:
<code>msfconsole</code></p>
<p>Next, we’ll load a wordpress adminshell exploit:</p>
<div class="codehilite"><pre><span></span><code><span class="err">use exploit/unix/webapp/wp_admin_shell_upload</span>
</code></pre></div>


<p>you can learn more about the exploit by using the info command:</p>
<div class="codehilite"><pre><span></span><code><span class="err">exploit(unix/webapp/wp_Admin_shell_upload) &gt; info</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-21.png" title="Image" /></p>
<p>We see that if we provide valid admin credentials, we’ll be able get a payload onto a server that will allow us to have a shell on the system.</p>
<p>Let’s set it up:</p>
<p>We need to set our username, password, the IP address of the target system and we need to set a <code>WPCHECK</code> variable to <code>false</code> to address a small bug.  After those 4 sets are completed, if we have the right values included, we can type “exploit” to start the attack:</p>
<p><img alt="Image" src="images/ctf-22.png" title="Image" /></p>
<p>If you entered in the correct values and everything was properly online, you should see a screen like the following:</p>
<p><img alt="Image" src="images/ctf-23.png" title="Image" /></p>
<p>Let’s make it easy to parse shell command output by using a special python command to spawn a shell:</p>
<div class="codehilite"><pre><span></span><code><span class="o">**</span><span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;import pty; pty.spawn(&quot;/bin/sh&quot;)&#39;</span><span class="o">**</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-24.png" title="Image" /></p>
<p>You can now easily enter in commands.  You can use “whoami” to see the name of the account you’re currently logged into.  </p>
<div class="codehilite"><pre><span></span><code><span class="err">whoami</span>
</code></pre></div>


<p>This tells us that the account name we’re running under is named “daemon”</p>
<div class="admonition question">
<p class="admonition-title">What’s a user account?</p>
<p>Computers typically have many different types of accounts.  Some accounts have more permissions than others- while other accounts have restrictions in place that limit their functionality.  Some special accounts exist (like ftp, www, nobody, root, daemon) that are used for special purposes.  The daemon account is used by the webserver we just gained shell access through- so we are now able to run commands &amp; access systems that the daemon account has access to. </p>
</div>
<p>You can use the command pwd to see the directory you’re currently in:</p>
<div class="codehilite"><pre><span></span><code><span class="err">pwd</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-25.png" title="Image" /></p>
<p>It looks like we’re in a long directory tree that hosts wordpress pages. </p>
<p>Now that you’ve gained access to a unix system- it’s sometimes helpful to look around in the /home/ directory to figure out what our next step should be.  Let’s search what’s in the home directory:</p>
<div class="codehilite"><pre><span></span><code><span class="err">cd /home/</span>
</code></pre></div>


<p>And now let’s list the files in that directory:</p>
<div class="codehilite"><pre><span></span><code><span class="err">ls -alh</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-26.png" title="Image" /></p>
<p>There is a directory called “robot”- which sounds related to our CTF.  let’s look inside it:  </p>
<p><img alt="Image" src="images/ctf-27.png" title="Image" /></p>
<p><strong>You found the second CTF key!  BUT THERE’S A PROBLEM...</strong></p>
<p>Key 2 of 3 found!  Unfortunately, we cannot open it because we don’t have read permissions for it.  We’re in the daemon user, but the key is only readable by the robot user. </p>
<p>Try to cat it and you’ll get the following error:</p>
<div class="codehilite"><pre><span></span><code><span class="err">cat key-2-of-3.txt</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-28.png" title="Image" /></p>
<p>We’re the currently running commands under the account named “daemon”- the key is readable only by the user robot. It looks like we need to look at this md5 file to get a password that will give us access to the robot account.  </p>
<p>Let’s try viewing it’s contents with the more command: </p>
<p><img alt="Image" src="images/ctf-29.png" title="Image" /></p>
<p>The file contents are:</p>
<div class="codehilite"><pre><span></span><code><span class="n">robot</span><span class="o">:</span><span class="n">c3fcd3fd76192e4007dfb496cca67e13b</span>
</code></pre></div>


<p>We know that there’s an account called robot.  This file includes a line with robot, and a long string which looks similar to a hash.  The filename tells us it’s a raw-md5 document, so perhaps this long string is the hash of a password.</p>
<div class="admonition question">
<p class="admonition-title">What’s a hash?</p>
<p>A hash is a mathematical function that should take an input value (let’s say a), and generate exactly one unique output for that input value.  It’s kind of like a person’s fingerprint.  A fingerprint is not the person, but in theory, it could only be generated by the person who has the finger that generates that fingerprint.</p>
</div>
<p>Often times, secrets are “stored” using a hashing function.  This reduces the risk that someone can directly steal a password if they gain access to a system.  Modern computing and aging hashing algorithms have made it possible to quickly determine the password for a given hash.  We will use a tool called hashcat to try and find the password that generates the md5 hash “c3fcd3fd76192e4007dfb496cca67e13b”</p>
<p><strong>Cracking a password hash for the robot user account</strong></p>
<p>Open a terminal on your local Kali linux instance.  We’re going to make a file that has this hash:</p>
<p>Type in the following command:  </p>
<div class="codehilite"><pre><span></span><code><span class="err">echo “c3fcd3fd76192e4007dfb496cca67e13b” &gt; password.md5</span>
</code></pre></div>


<p>This will create a file called password.md5, which stores the hash we found.  We need a wordlist that with commonly used passwords that we can use to generate corresponding md5 values.  Fortunately, kali has one in the /usr/share/wordlists/ directory.  We’ll use the rockyou.txt wordlist to try and find the password that generates our md5 hash.  It will create a file called “cracked.txt” which stores the hash and the corresponding password.  This command could take minutes or seconds, depending on the size of the word list and the computing power of your system:</p>
<div class="codehilite"><pre><span></span><code><span class="err">hashcat --force -a 0 -m 0 password.md5 /usr/share/wordlists/rockyou.txt -o cracked.txt</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-30.png" title="Image" /></p>
<p>Now let’s look at our cracked.txt file.
<code>more cracked.txt</code></p>
<p>This tells us that the password that generates the hash value c3fcd3d76192e4007dfb496cca67e13b is <strong>abcdefghijklmnopqrstuvwxyz</strong>.  We did it!  It looks like we found the password for the robot account!</p>
<p>You can test this hash/password value by typing the following command to get the md5 value of the password:</p>
<div class="codehilite"><pre><span></span><code><span class="err">echo -n abcdefghijlkmnopqrstuvwxyz | md5sum</span>
</code></pre></div>


<p><strong>Elevating to the robot user</strong></p>
<p>Now we just need to try and switch to the robot account.  From our metasploit shell, let’s type the following command:</p>
<div class="codehilite"><pre><span></span><code><span class="err">su robot</span>
</code></pre></div>


<p>You’ll be prompted for a password.  Type in <code>abcdefghijlkmnopqrstuvwxyz</code></p>
<p>If you typed it in correctly, you should see the following:</p>
<p><img alt="Image" src="images/ctf-31.png" title="Image" /></p>
<p>Now you can view the contents of the key2-of-3.txt file:</p>
<p><img alt="Image" src="images/ctf-32.png" title="Image" /></p>
<p><strong>You finally can view the second CTF key!</strong></p>
<p>Our second key is 822c73956184f694993bede3eb39f95!  Congratulations!  Well done!   If we were competing in a CTF, we’d be uploading this value to the CTF page under our account.  If you’d like to take a break, this would be an excellent place to stop. </p>
<h2 id="finding-the-third-key">Finding the third key</h2>
<p>2 keys down- 1 to go.  We need to find the 3rd key.  It’s probably named something like key-3-of-3.txt. Maybe we can use the find command to discover it’s location?</p>
<div class="codehilite"><pre><span></span><code><span class="err">find / -name key-3-of-3.txt</span>
</code></pre></div>


<p>This isn’t very productive.  We have lots of permission denied errors:</p>
<p><img alt="Image" src="images/ctf-32.png" title="Image" /></p>
<p>This is happening because the Robot user is not allowed to access the entire file system.  We need to elevate our privileges to be able to see what is in various directories.  We should try to get access to the root account so that we can search everywhere on the file system.</p>
<p><strong>Searching for SUID files that might be exploitable.</strong></p>
<p>One way to get root is to find a vulnerable binary on your file system that has the SUID bit set for a program that is owned by root.  This next step requires a bit of background knowledge- but let’s start out by searching for all files on the system with the setuid bit set:</p>
<div class="codehilite"><pre><span></span><code><span class="err">find / -perm -4000 2&gt;/dev/null</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-34.png" title="Image" /></p>
<p>A bunch of interesting files come up - but one in particular catches my eye: the nmap comand has the setuid bit set.  You may not know this- but there used to be a version of nmap that had an interactive terminal.  If the nmap binary has the setuid bit set, and it’s owned by root, we can use it to get root.  Let’s find out who owns it:</p>
<p><img alt="Image" src="images/ctf-35.png" title="Image" /></p>
<p>It’s owned by the root user!  Let’s call nmap using the interactive shell:</p>
<div class="codehilite"><pre><span></span><code><span class="err">/usr/local/bin/nmap --interactive</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-36.png" title="Image" /></p>
<p><strong>Exploiting an old vulnerability in NMAP to escalate to root</strong></p>
<p>If we put a ! before a command, we’ll be able to pass shell commands through nmap running under it’s setuid command.  Above, you can see the “whoami” comand doesn’t work if you skip the !, but it does work if you add it.  Not only that, but despite the fact that you invoked the nmap binary under the robot account, you’re now showing up as root.  Let’s use this trick to look inside the /root/ directory:</p>
<p><img alt="Image" src="images/ctf-37.png" title="Image" /></p>
<p><strong>We found key-3-of-3.txt! </strong> Let’s use nmap and the cat command to read it’s contents:</p>
<div class="codehilite"><pre><span></span><code><span class="err">! cat /root/key-3-of-3.txt</span>
</code></pre></div>


<p><img alt="Image" src="images/ctf-38.png" title="Image" /></p>
<p><strong>You found the final CTF key!</strong></p>
<p>We did it!  we now have the 3rd key: 04787ddef27c3dee1ee161b21670b4e4.  If we had a CTF board running, this is the key value we’d upload.  </p>
<p>There you go!  You have finished the lab.  Let’s review what we learned:</p>
<ol>
<li>We learned about scanning a network to discover systems &amp; their <strong>ip addresses using nmap</strong></li>
<li>We found a server, and then learned how to discover <strong>network services </strong>running on the system, also using nmap.</li>
<li>We learned how to spider a web page and <strong>discovered a robots.txt</strong> file on web servers (which also happened to be our first key!) </li>
<li>We <strong>discovered an admin login page</strong>, and used the error messages that the login page provided and <strong>discovered valid user accounts</strong> (“elliot”) on the system.</li>
<li>We used a tool called Hydra and<strong> discovered elliot’s password</strong>.</li>
<li>We used metasploit and <strong>discovered vulnerabilities in the wordpress web server.</strong></li>
<li>We used metasploit and <strong>gained interactive shell access to the server</strong>.</li>
<li>We used that interactive shell access to find the second key- but we couldn’t access it due to a permissions setting.</li>
<li>We <strong>cracked the password of the robot account</strong> using hashcat.</li>
<li>We <strong>used our dicovered robot account password</strong> to view the second key.</li>
<li>We found a setuid mistake that allowed us to use an nmap binary and<strong> escalated to the root account.</strong></li>
<li>We used our root privileges to find and read the 3rd key.  </li>
</ol>
<p>There were multiple security mistakes that we exploited.
1. A password dictionary file was stored on the web server.  Putting unnecessary files on a public web server is dangerous and should be avoided.
2. Wordpress disclosed too much information about a failed login.  Error messages should not disclose information that would be useful for a hacker regarding what is happening in the web application.
3. The Wordpress version is out of date and has a known vulnerability that can be exploited to gain a shell on the service.  Software should be patched and up to date to avoid exploitable security vulnerabilities.
4. The password hash used by the robot user was not salted and consequently, vulnerable to a dictionary attack.  Passwords should be salted with instance specific secrets to reduce the effectiveness of a dictionary attack.
5. An out of date version of nmap had the SUID bit set for root, which enabled privilege escalation from the robot user.  Software should be patched and up to date.   The use of SUID for root should be generally avoided. More info on this particular mistake is available here: https://pentestlab.blog/2017/09/25/suid-executables/</p>
<h2 id="appendix">Appendix</h2>
<p><strong>What are CTFs?</strong></p>
<p>Computer Security experts practice their skills in competitions called “Capture The Flag.” During the course of r00tz asylum, the neverlanCTF folks are running a CTF competition. If you’ve never competed in a CTF, it might seem intimidating- but don’t worry.  You absolutely have the skills to to try a CTF.  It’ll be intimidating as you start- but Everyone has to start somewhere. We’re here to help. </p>
<p>We’re running a CTF 101 that will give you real world computer security experience. This guide will provide you with an overview of how a CTF works, and how to run through 3 real world CTF examples that are themed to align with some of the hacking events you might have seen in the TV Show "Mr. Robot” </p>
<p>If you are nervous about competing in the CTF- our worklab will give you the confidence to succeed. Our examples are a little more challenging than those used in the CTF- but we give you nice guides to help you get unstuck. </p>
<p>If you are interested in general computer security topics- our worklab will give you a real world example of finding &amp; extracting secrets from working linux workstations. </p>
<p>Background: </p>
<p><strong>What is Capture the Flag?</strong></p>
<p>Capture the Flag a fun game where two teams each hide a colored flag that represents their team. The goal is to locate &amp; take the opposing team’s flag and bring it back to their base. A typical CTF game might take 30-60 minutes and involve a lot of running around, hiding and playing “tag” to put opposing team members into jail. You get sweaty, you might get dirty. You may even get the flag and return it to your base. This is very different than a Security CTF.</p>
<p><strong>What is a Security CTF? </strong></p>
<p>In Security CTFs, we don’t run around and steal flages.  We generally don’t get sweaty outrunning our opposition.  We chase after greater adventure: We solve puzzles.  Our puzzles are about searching for secret keys in operating systems or in files.</p>
<p>Security CTFs come in two general types: Jeopardy &amp; Attack-defense. Here at r00tz, neverlan is running a Jeopardy style CTF. You’ll be presented with multiple challenges worth varying amounts of points. Typically, you will be a part of a team (although you can work alone if you prefer) and all of your teammate's points will count to the final team score. The goal is for your team to have the most points at the end of the game.  You get points by finding “Keys” and submitting them to the scoring app for the competition.  A key will look similar to. (but never exactly the same) as the following:</p>
<p><img alt="Image" src="images/ctf-39.png" title="Image" /></p>
<p>Challenges are typically presented in the style of a Jeopardy Scoreboard- where there might be 6 columns, with each column representing a specific category of security challenges. In a given row, the value of the challenge will increase based on the complexity/difficulty of the challenge. </p>
<p>You can decide which topic you think you might know the most about and then select an individual challenge. The lower value challenges are likely to be easier, and the higher value challenges are likely to be harder. The surprising thing about CTFs is that you probably know more than you realize. Sometimes the higher value challenges turn out to be easy because you just happen to know the right details. The important things to remember are: </p>
<ol>
<li>Use a search engine to research the details of a challenge (e.g. google, bing, duckduckgo, etc.) If you don’t know something, you may find answers on the Internet. </li>
<li>Try new challenges! Don’t be afraid to walk away from one that you don’t understand. There’s always a couple of challenges that you’ll be able to solve. </li>
<li>Take breaks! Don’t be afraid to take a break from challenges if you’re struggling. Sometimes you just need to step away from the problem- and suddenly the answers will become clear.</li>
<li>Talk to your teammates. Sometimes, describing the problem you’re having will help you identify a key detail you overlooked. Sometimes, you’ll have a special insight that will help your teammate solve a problem. </li>
</ol>
<p><strong>Security CTF Workflow</strong></p>
<ol>
<li>Register your team. You will normally be given a url for a web page where you can submit your challenge answers under your team’s account. </li>
<li>Select a challenge. Review the puzzle. Collect the appropriate assets to work on the challenge (log into a vm, download a file, etc.) </li>
<li>Identify what the target of the challenge is (the puzzle should give you some description of what your objective is. Typically, you’re asked to retrieve a “key” from a file/server/etc.) </li>
<li>Post your key to the CTF web page under your team’s account. If you submit the wrong key, the CTF web page will normally tell you that it’s the wrong value and won’t award points. If you submit the right key, you’ll get the points for your team. </li>
<li>Keep solving challenges till the competition is over. Sometimes competitions give you a bonus for being the first team to solve a challenge- but don’t worry if someone else solves it before you. You still can get points. </li>
</ol>
<p><strong>CTF strategies:</strong></p>
<p>First- decide if you want to work alone, or form a team. <strong>Tip</strong>: You should form/join a team! You’ll learn things from other players. You’ll likely teach other players things they didn’t know. You’ll find that a team will collect points faster than you can as a sole contributor. Don’t be afraid to ask existing teams if they need someone to join them. </p>
<ol>
<li><strong>Solve challenges based on categories you’re comfortable with</strong></li>
</ol>
<p>You can choose whatever problem you would like to work on out of all of the challenges based on the value of the challenge. You can also choose to work on a problem based on the category of the problem- you might be really comfortable looking at files, or capturing network packets- and so you may choose to work on problems based on their category. </p>
<ol>
<li><strong>Solve challenges based on score values</strong></li>
</ol>
<p>Are you feeling extra confident? Go for the higher score challenges. Are you feeling lucky? Go for the higher score challenges? 
Are you feeling nervous? Go for the lower score challenges. Don’t be afraid to try categories you don’t think you know. You might be surprised to discover you know more than you expect. </p>
<p><strong>List of Linux commands we used:</strong></p>
<ul>
<li><strong>ls</strong> (used to list information about files and directories within the file system.)</li>
<li><strong>cd</strong>(used to change the current directory)</li>
<li><strong>pwd</strong> ( pwd prints the name of the present/current working directory (PWD - Present Working Directory)</li>
<li><strong>find</strong> (utility for walking a file hierarchy. It can be used to find files and directories and perform subsequent operations on them)</li>
<li><strong>ip</strong>(used to assign an address to a network interface and/or configure network interface parameters on Linux operating systems. )</li>
<li><strong>nmap</strong> (tool used for scanning network hosts for discovering what services the hosts are running)</li>
<li><strong>cat</strong> (command used to create single or multiple files, <strong>view contain of file</strong>, concatenate files and redirect output in terminal or files)</li>
<li><strong>more</strong> (similar to <strong>cat</strong>.  more is used to view the text files in the command prompt, displaying one screen at a time in case the file is large)</li>
<li><strong>whoami</strong> (used to discover the user account the shell is currently running under).</li>
<li><strong>echo</strong>(used to display line of text/string that are passed as an argument . This is a built in command that is mostly used in shell scripts and batch files to output status text to the screen or a file.)
<strong>hashcat</strong> (used to crack passwords from various hashing formats)</li>
<li><strong>sort</strong>(Used to sort text files)</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
        
          <a href="environment-setup/" title="Environment Setup" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Environment Setup
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <a href="https://aws.amazon.com/privacy/" target="_blank">Privacy</a> | <a href="https://aws.amazon.com/terms/" target="_blank">Site terms</a> | &copy; 2020, Amazon Web Services, Inc. or its affiliates. All rights reserved.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://awssecworkshops.com" target="_blank" rel="noopener" title="awssecworkshops.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M280.37 148.26L96 300.11V464a16 16 0 0016 16l112.06-.29a16 16 0 0015.92-16V368a16 16 0 0116-16h64a16 16 0 0116 16v95.64a16 16 0 0016 16.05L464 480a16 16 0 0016-16V300L295.67 148.26a12.19 12.19 0 00-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 00-12-12h-56a12 12 0 00-12 12v72.61L318.47 43a48 48 0 00-61 0L4.34 251.47a12 12 0 00-1.6 16.9l25.5 31A12 12 0 0045.15 301l235.22-193.74a12.19 12.19 0 0115.3 0L530.9 301a12 12 0 0016.9-1.6l25.5-31a12 12 0 00-1.7-16.93z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://aws.amazon.com/security/" target="_blank" rel="noopener" title="aws.amazon.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M466.5 83.7l-192-80a48.15 48.15 0 00-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/awssecurityinfo?lang=en" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://aws.amazon.com/blogs/security/" target="_blank" rel="noopener" title="aws.amazon.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634-5.214-80.05-69.243-143.92-149.123-149.123-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425 110.546 5.974 198.997 94.536 204.964 204.964.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432 167.83 6.025 302.21 141.191 308.205 308.205.232 6.449-4.978 11.787-11.432 11.787z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.d1f5a259.min.js"></script>
      <script src="assets/javascripts/bundle.d5fec882.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.fae956e7.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>